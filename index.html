<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="万邪、诸恶的克星。">
<meta name="keywords" content="技术, 5412, 吒, 程序猿, golang, php, hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="No.5412 站">
<meta property="og:url" content="http://5412.github.io/index.html">
<meta property="og:site_name" content="No.5412 站">
<meta property="og:description" content="万邪、诸恶的克星。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="No.5412 站">
<meta name="twitter:description" content="万邪、诸恶的克星。">






  <link rel="canonical" href="http://5412.github.io/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>No.5412 站</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">No.5412 站</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">吒</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2021/02/01/learn-redis-makefile/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/01/learn-redis-makefile/" itemprop="url">
                  学习 redis -- Makefile 篇
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2021-02-01 17:03:03" itemprop="dateCreated datePublished" datetime="2021-02-01T17:03:03+08:00">2021-02-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2021-02-02 11:22:29" itemprop="dateModified" datetime="2021-02-02T11:22:29+08:00">2021-02-02</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/redis/" itemprop="url" rel="index"><span itemprop="name">redis</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="make-命令简介"><a href="#make-命令简介" class="headerlink" title="make 命令简介"></a>make 命令简介</h2><p>make 命令格式：make [-f Makefile] [option] [target]  </p>
<blockquote>
<p>make 是一个解释 makefile 中指令的命令工具。make 工具最主要也是最基本的功能：就是通过 makefile文件 来描述源程序之间的相互关系并自动维护编译工作。而 makefile文件 需要按照某种语法进行编写，文件中需要说明如何编译各个源文件，并连接生成可执行文件，并要求定义源文件之间的依赖关系。</p>
</blockquote>
<h2 id="redis-中的-Makefile-使用"><a href="#redis-中的-Makefile-使用" class="headerlink" title="redis 中的 Makefile 使用"></a>redis 中的 Makefile 使用</h2><ol>
<li><strong>$(MAKE)</strong> 代表 make 命令本身</li>
<li><strong>.PHONY</strong> 伪指令, 用于处理 Makefile 所在目录有与自命令重名文件的问题</li>
<li><strong>$@</strong> 代表 <del>命令传过来所有参数</del> makefile 中 $@ 与 bash 脚本中的含义不一样<ol>
<li><strong>$@</strong> 表示规则中目标</li>
<li><strong>$&lt;</strong> 表示规则中的第一个依赖条件</li>
<li><strong>$^</strong> 表示规则中的所有依赖条件<blockquote>
<p><del>1. test 1 2 3 4 5</del><br><del>2. $# 是传给脚本的参数个数 ps: 5</del><br><del>3. $0 是脚本本身的名字 ps: test</del><br><del>4. $1是传递给该shell脚本的第一个参数 ps: 1</del><br><del>5. $2是传递给该shell脚本的第二个参数 ps: 2</del><br><del>6. $@ 是传给脚本的所有参数的列表 参数独立看待 ps: for 循环可循环 5 次</del><br><del>7. $* 是传给脚本的所有参数的列表 所有参数整体看待 ps: “1 2 3 4 5”, for 循环循环 1 次</del>  </p>
</blockquote>
</li>
</ol>
</li>
<li><p>版本号生成</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">GIT_SHA1=`(git show-ref --head --<span class="built_in">hash</span>=8 2&gt; /dev/null || <span class="built_in">echo</span> 00000000) | head -n1`</span><br><span class="line">GIT_DIRTY=`git diff --no-ext-diff 2&gt; /dev/null | wc -l`</span><br><span class="line">BUILD_ID=`uname -n`<span class="string">"-"</span>`date +%s`</span><br></pre></td></tr></table></figure>
</li>
<li><p>执行shell <figure class="highlight plain"><figcaption><span>:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    1. **:= $()** 赋值命令执行后的输出  </span><br><span class="line">    2. **/dev/null** 一个特殊的设备文件，这个文件接收到任何数据都会被丢弃  </span><br><span class="line">    3. **2&gt;/dev/null** 将标准错误的输出重定向到 /dev/null, 此处意在不输出标准错误信息, 如shell脚本失败, 只输出 not  </span><br><span class="line">    4. Linux 系统预留了三个文件描述符  </span><br><span class="line">        1. **0** 标准输入 stdin</span><br><span class="line">        2. **1** 标准输出 stdout</span><br><span class="line">        3. **2** 标准错误 stderr</span><br><span class="line">6. Makefile 赋值操作</span><br><span class="line">    1. **=** 是最基本的赋值 make会将整个makefile展开后，再决定变量的值。也就是说，变量的值将会是整个makefile中最后被指定的值</span><br><span class="line">    2. **:=** 是覆盖之前的值 变量的值决定于它在makefile中的位置，而不是整个makefile展开后的最终值</span><br><span class="line">    3. **?=** 是如果没有被赋值过就赋予等号后面的值</span><br><span class="line">    4. **+=** 是添加等号后面的值</span><br><span class="line">7. Makefile 中的 if 语句 及函数调用</span><br><span class="line"></span><br><span class="line">    ```makefile</span><br><span class="line">    STD=-pedantic -DREDIS_STATIC=&apos;&apos;</span><br><span class="line">    ifneq (,$(findstring clang,$(CC)))</span><br><span class="line">        ifneq (,$(findstring FreeBSD,$(uname_S)))</span><br><span class="line">            STD+=-Wno-c11-extensions</span><br><span class="line">        endif</span><br><span class="line">    endif</span><br></pre></td></tr></table></figure></p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2020/12/17/每日一记-20201217/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/12/17/每日一记-20201217/" itemprop="url">
                  每日一记-20201217
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-12-17 14:32:22 / 修改时间：16:28:01" itemprop="dateCreated datePublished" datetime="2020-12-17T14:32:22+08:00">2020-12-17</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/每日一记/" itemprop="url" rel="index"><span itemprop="name">每日一记</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>docker 清理不用的资源<ol>
<li>清理悬空镜像(无容器引用亦无tag) <code>docker image prune</code> -a 清除所有无容器引用的镜像</li>
<li>清除容器 <code>docker container prune</code> -f | –force 强制清除, –filter 设置过滤参数</li>
<li>清除挂载卷 <code>docker volume prune</code>  -f | –force 强制清除, –filter 设置过滤参数</li>
<li>删除所有不用资源 <code>docker system prune</code> –volumes 17.06 版本后默认不删除挂载卷</li>
</ol>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2020/06/03/SetMaxIdleConns && SetMaxOpenConns/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/03/SetMaxIdleConns && SetMaxOpenConns/" itemprop="url">
                  SetMaxIdleConns && SetMaxIdleConns
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-06-03 15:16:43 / 修改时间：15:45:17" itemprop="dateCreated datePublished" datetime="2020-06-03T15:16:43+08:00">2020-06-03</time>
            

            
              

              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/GO/" itemprop="url" rel="index"><span itemprop="name">GO</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Go 的 sql 包中 DB struct SetMaxIdleConns 与 SetMaxOpenConns 存在意义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// SetMaxOpenConns sets the maximum number of open connections to the database.</span><br><span class="line">//</span><br><span class="line">// If MaxIdleConns is greater than 0 and the new MaxOpenConns is less than</span><br><span class="line">// MaxIdleConns, then MaxIdleConns will be reduced to match the new</span><br><span class="line">// MaxOpenConns limit.</span><br><span class="line">//</span><br><span class="line">// If n &lt;= 0, then there is no limit on the number of open connections.</span><br><span class="line">// The default is 0 (unlimited).</span><br><span class="line">func (db *DB) SetMaxOpenConns(n int) &#123;&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// SetMaxIdleConns sets the maximum number of connections in the idle</span><br><span class="line">// connection pool.</span><br><span class="line">//</span><br><span class="line">// If MaxOpenConns is greater than 0 but less than the new MaxIdleConns,</span><br><span class="line">// then the new MaxIdleConns will be reduced to match the MaxOpenConns limit.</span><br><span class="line">//</span><br><span class="line">// If n &lt;= 0, no idle connections are retained.</span><br><span class="line">//</span><br><span class="line">// The default max idle connections is currently 2. This may change in</span><br><span class="line">// a future release.</span><br><span class="line">func (db *DB) SetMaxIdleConns(n int) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://stackoverflow.com/questions/31952791/setmaxopenconns-and-setmaxidleconns" target="_blank" rel="noopener">传送门</a></p>
<p>以免大家打不开传送门</p>
<blockquote>
<p>SetMaxIdleConns 设置数据库连接池可以保留的连接数，用来复用连接。<br>SetMaxOpenConns 设置数据库可以打开的最大连接数。<br>意义：因为你可能希望MaxIdleConns是低的，但是MaxOpenConns是高的。这意味着您的应用程序可以在需要的时候打开尽可能多的连接，但在不需要的时候却消耗最少的资源：适合于突发负载。–Danver Braganza 2015年8月11日22:55</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2019/05/01/19年面试清单（总）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/01/19年面试清单（总）/" itemprop="url">
                  19年面试清单（总）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-01 20:55:48" itemprop="dateCreated datePublished" datetime="2019-05-01T20:55:48+08:00">2019-05-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-05-21 09:49:24" itemprop="dateModified" datetime="2020-05-21T09:49:24+08:00">2020-05-21</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="系统相关"><a href="#系统相关" class="headerlink" title="系统相关"></a>系统相关</h5><ol>
<li><p><a href="https://www.cnblogs.com/zhehan54/p/6130030.html" target="_blank" rel="noopener">一道面试题：说说进程和线程的区别</a></p>
<blockquote>
<ol>
<li>进程是资源分配的最小单位，线程是程序执行的最小单位。</li>
<li>进程有自己的独立地址空间，每启动一个进程，系统就会为它分配地址空间，建立数据表来维护代码段、堆栈段、数据段、这种操作非常昂贵。而线程是共享进程中数据的，使用相同地址空间，因此CPU切换一个线程的花费远比进程要小很多，同时创建一个线程的开销也要小很多。  </li>
<li>线程之间通信更方便，同一进程共享全局变量、静态变量等数据，而进程之间需要以通信的方式（IPC）进行，不过如何处理好同步与互斥是编写多线程程序的难点。  </li>
<li>但是多进程程序更加健壮，多线程程序只要有一个线程死掉，整个进程也就死掉了，而一个进程死掉不会对另一个造成影响，因为进程有自己的独立地址空间。</li>
</ol>
</blockquote>
</li>
<li><p>shell 获取文件每行第三个元素  awk ‘{print $3}’ test”</p>
</li>
<li>shell 输出当前的pid<br> $$: 当前shell的pid<br> $!：上一个进程的pid<br> $?: 上个命令推出状态或函数返回值<br> $0: 当前进程名<br> $n: 传递给脚本第n参数<br> $#: 传递给脚本或本函数的参数个数<br> $*: 传给脚本的所有参</li>
<li><p>杀死所有的php-cgi进程  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$kill -s 9 `ps -aux | grep php-cgi | awk &apos;&#123;print $2&#125;&apos;`</span><br></pre></td></tr></table></figure>
<p> <a href="https://blog.csdn.net/myrainblues/article/details/19336995" target="_blank" rel="noopener">《linux下杀死进程的10种方法》</a></p>
</li>
<li><p>查看 php-fpm  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef|grep php</span><br></pre></td></tr></table></figure>
<p> <a href="https://www.cnblogs.com/qk2014/p/8683493.html" target="_blank" rel="noopener">《linux下查看php-fpm是否开启以及如何开启》</a></p>
</li>
<li><a href="https://blog.csdn.net/wuhuagu_wuhuaguo/article/details/79774187" target="_blank" rel="noopener">反射型XSS漏洞的条件+类型+危害+解决</a></li>
</ol>
<h5 id="语言相关"><a href="#语言相关" class="headerlink" title="语言相关"></a>语言相关</h5><ol>
<li>打印前一天时间<br> <code>date(&#39;Y-m-d H:i:s&#39;,strtotime(&#39;-1 day&#39;))</code></li>
<li>echo count(strlen(“<a href="http://php.net&quot;)" target="_blank" rel="noopener">http://php.net&quot;)</a>)<br>遇见次数：2<br>手册解释：count传入非数组值会返回1，如果传入的值为NULL，返回0<br>php5.4 输出 1<br>php7.3 将会返回一个warning级别的错误，Parameter must be an array or an object that implements Countable.</li>
<li><a href="https://www.cnblogs.com/taijun/p/4206770.html" target="_blank" rel="noopener">PHP的垃圾回收机制详解</a></li>
<li><a href="https://www.cnblogs.com/gaoxuqing/p/6925080.html" target="_blank" rel="noopener">php–转码函数</a><br> iconv<br> mb_convert_encoding  </li>
<li><p>PHP 加密方式<br>md5() crypt()   sha1() urlencode() base64_encode()</p>
</li>
<li><p>下面程序输出结果</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    $num = 1;</span><br><span class="line">    function mutiple() &#123;</span><br><span class="line">        $num = $num * 10;</span><br><span class="line">    &#125;</span><br><span class="line">    mutiple();</span><br><span class="line">    echo $num;</span><br><span class="line">    function mutiple1($num) &#123;</span><br><span class="line">        $num = $num * 10;</span><br><span class="line">    &#125;</span><br><span class="line">    mutiple1($num);</span><br><span class="line">    echo $num;</span><br></pre></td></tr></table></figure>
<p> 1, 1</p>
<h5 id="程序设计"><a href="#程序设计" class="headerlink" title="程序设计"></a>程序设计</h5></li>
<li><p><a href="https://www.cnblogs.com/jesssey/p/7751234.html" target="_blank" rel="noopener">面向对象与面向过程优缺点</a></p>
<blockquote>
<p>面向过程<br>优点：性能比面向对象高，因为类调用时需要实例化，开销比较大，比较消耗资源，比如单片机、嵌入式开发、Linux/Unix等一般采用面向过程开发，性能是最重要的因素。<br>缺点：没有面向对象易维护、易复用、易扩展。<br> 面向对象<br> 优点：易维护、易复用、易扩展，由于面向对象有封装、继承、多态性的特性，可以设计出低耦合的系统，使系统更加灵活、更加易于维护。<br> 缺点：性能比面向过程低</p>
</blockquote>
</li>
<li><p>设计模式好处及常规的设计模式  </p>
<blockquote>
<p>帮助我们将应用组织成容易了解，容易维护，具有弹性的架构，建立可维护的OO系统，要诀在于随时想到系统以后可能需要的变化以及应付变化的原则。  </p>
</blockquote>
<p> <a href="https://www.cnblogs.com/linkstar/p/7859980.html" target="_blank" rel="noopener">《你所学习的设计模式到底有什么用？到底怎么用？》</a></p>
</li>
<li>不使用第三个变量交换两个变量<br>出现次数： 1<br>方法一： 使用异或操作。<br>方法二： 使用list($a, $b) = array($a, $b), 注意php7 会改变$a, $b 顺序。<br>方法三： 字符串可以将两变量拼接后去截取。</li>
<li><p>遍历文件夹,出现次数：1  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function myScanDir($filename) &#123;</span><br><span class="line">    $files = [];</span><br><span class="line">    if (is_dir($filename)) &#123;</span><br><span class="line">        $handle = opendir($filename);</span><br><span class="line">        while($file = readDir($handle)) &#123;</span><br><span class="line">            if (in_array($file, [&quot;.&quot;, &quot;..&quot;])) &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            $chirldFilename = $filename . DIRECTORY_SEPARATOR . $file;</span><br><span class="line">            if (is_dir($chirldFilename)) &#123;</span><br><span class="line">                $files[$file] = myScanDir($chirldFilename);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                $files[] = $file;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        closedir($handle);</span><br><span class="line">    &#125;</span><br><span class="line">    return $files;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>多进程同时读写一个文件<br> 协同锁、LOCK_SH、LOCK_EX、LOCK_UN、LOCK_NB、 </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function myWrite($filename, $output) &#123;</span><br><span class="line">    $handle = fopen($filename);</span><br><span class="line">    if(flock($handle, LOCK_EX)) &#123;</span><br><span class="line">        fwrite($handle, $output);</span><br><span class="line">        fflush($handle);</span><br><span class="line">        flock($handle, LOCK_UN);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        throw new exception(&quot;文件被占用&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose($handle);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/5412/php-story/blob/master/sort/bubble.php" target="_blank" rel="noopener">冒泡排序</a></p>
</li>
<li><a href="https://blog.csdn.net/youyangyouni/article/details/80988852" target="_blank" rel="noopener">最近最少使用缓存失效策略算法实现 LRU</a></li>
<li><a href="">内存256M， 10G文件排序实现 file sort</a></li>
<li><p>敏感词过滤</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$badword = array(    </span><br><span class="line">    &apos;张三&apos;,&apos;张三丰&apos;,&apos;张三丰田&apos;    </span><br><span class="line">);    </span><br><span class="line">$badword1 = array_combine($badword,array_fill(0,count($badword),&apos;*&apos;));    </span><br><span class="line">$bb = &apos;我今天开着张三丰田上班&apos;;    </span><br><span class="line">$str = strtr($bb, $badword1);    </span><br><span class="line">echo $str;</span><br></pre></td></tr></table></figure>
</li>
<li><p>正则匹配html标签<br> <code>/&lt;[^&gt;]+&gt;/g;</code><br> <a href="https://blog.csdn.net/qq_42209411/article/details/83152257" target="_blank" rel="noopener">用正则表达式匹配HTML标签</a></p>
</li>
<li><p>用五种方法获取文件扩展名</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">function get_ext1($file_name)&#123;</span><br><span class="line">    return strrchr($file_name, &apos;.&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function get_ext2($file_name)&#123;</span><br><span class="line">    return substr($file_name, strrpos($file_name, &apos;.&apos;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function get_ext3($file_name)&#123;</span><br><span class="line">    return array_pop(explode(&apos;.&apos;, $file_name));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function get_ext4($file_name)&#123;</span><br><span class="line">    $p = pathinfo($file_name);</span><br><span class="line">    return $p[&apos;extension&apos;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function get_ext5($file_name)&#123;</span><br><span class="line">    return strrev(substr(strrev($file_name), 0, strpos(strrev($file_name), &apos;.&apos;)));</span><br><span class="line">&#125;</span><br><span class="line">function get_ext6($file_name) &#123;</span><br><span class="line">    $tok = strtok($string, &apos;.&apos;); //使用strtok将字符串分割成一个个令牌 </span><br><span class="line">    while ($tok) </span><br><span class="line">    &#123; </span><br><span class="line">        $arr[]= $tok;  </span><br><span class="line">        $tok = strtok(&apos;.&apos;); //该函数会保持它自己的内部指针在字符串中的位置, </span><br><span class="line">                    //如果想重置指针,可以将该字符串传给这个函数.  </span><br><span class="line">                    //所以当第二次调用strtok()函数时,如果对上一次的已分割的字符串进行分割,第1个参数可以省略 </span><br><span class="line">    &#125; </span><br><span class="line">    $count= count($arr); </span><br><span class="line">    $i= $count-1; </span><br><span class="line">    $file_type= $arr[$i];</span><br><span class="line">    return $file_type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>给定一个无序数组，找出其中未出现的最小正整数。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">    function firstMissingPositive(array $input) :int &#123;</span><br><span class="line">        $l  = count($input);</span><br><span class="line">        $i = 0;</span><br><span class="line">        //var_export($input);</span><br><span class="line">        while($i &lt; $l) &#123;</span><br><span class="line">            if ($input[$i] &gt; 0 &amp;&amp; $input[$i] &lt;= $l &amp;&amp; $input[$input[$i] - 1] != $input[$i]) &#123;</span><br><span class="line">                $temp = $input[$input[$i] - 1];</span><br><span class="line">                $input[$input[$i] - 1] = $input[$i];</span><br><span class="line">                $input[$i] = $temp;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                $i++;</span><br><span class="line">            &#125;</span><br><span class="line">            //var_export($input);</span><br><span class="line">        &#125;</span><br><span class="line">        //var_export($input);</span><br><span class="line">        $i = 0;</span><br><span class="line">        while ($i &lt; $l &amp;&amp; $input[$i] == $i + 1) &#123;</span><br><span class="line">            $i++;</span><br><span class="line">        &#125;</span><br><span class="line">        return $i;</span><br><span class="line">    &#125;</span><br><span class="line">    ``` </span><br><span class="line"></span><br><span class="line">1. [搜索引擎会通过日志文件把用户每次检索使用的所有检索串都记录下来，每个查询串的长度为1-255字节](https://blog.csdn.net/u014686180/article/details/52190864)</span><br><span class="line"></span><br><span class="line">##### 数据库设计</span><br><span class="line">1. mysql快速清空数据库``` select CONCAT(&apos;truncate TABLE &apos;,table_schema,&apos;.&apos;,TABLE_NAME, &apos;;&apos;) from INFORMATION_SCHEMA.TABLES where  table_schema in (&apos;数据库1&apos;,&apos;数据库2&apos;);``` 然后再替换替换。</span><br><span class="line"></span><br><span class="line">1.  mysql 查找重复记录  </span><br><span class="line">假设表名user, 字段分别为id, username, email, 查询username重复的记录 </span><br><span class="line">方法一：``` select id,username,count(*) as counts from user group by username having counts &gt; 1;``` 可能会报错，5.7版本增加了对功能依赖的检测，select 的字段必须出现在 group by 中。  </span><br><span class="line">修改方法 ``` select @@global.sql_mode; set @@global.sql_mode = &quot;ONLY_FULL_GROUP_BY,....&quot;;``` 删除其中的 ONLY_FULL_GROUP_BY.或者设置my.ini  </span><br><span class="line">方法二：5.7 版本  </span><br><span class="line">查询重复字段： ``` select username from user GROUP BY username HAVING COUNT(*) &gt; 1;```  </span><br><span class="line">查询重复记录：```select * from user a where (select count(*) from user where username = a.username ) &gt; 1 order by  username; ```  </span><br><span class="line">过滤记录：``` select * from user where id in (Select min(id) From user Group By username);</span><br></pre></td></tr></table></figure>
</li>
<li><p>mysql 查学生各科分数前三<br> student_score{id,name,subject_id,score}  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># mysql 删除ONLY_FULL_GROUP_BY</span><br><span class="line">select a.user_id, a.subject_id,a.score from student_score a</span><br><span class="line">inner join student_score b on b.subject_id = a.subject_id and a.score &lt;= b.score</span><br><span class="line">group by a.user_id, a.subject_id</span><br><span class="line">having count(*) &lt;= 3</span><br><span class="line">order by a.score desc;</span><br><span class="line"></span><br><span class="line"># 兼容版本</span><br><span class="line">select c.* from student_score c inner join</span><br><span class="line">(select a.user_id, a.subject_id from student_score a </span><br><span class="line"> inner join student_score b on b.subject_id = a.subject_id and a.score &lt;= b.score</span><br><span class="line"> group by a.user_id, a.subject_id having count(*) &lt;= 3) as d </span><br><span class="line"> on c.user_id = d.user_id and c.subject_id = d.subject_id </span><br><span class="line"> order by c.subject_id,c.score;</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据库评论回复功能 详见CSDN某大神著作<a href="https://blog.csdn.net/ztchun/article/details/71106117" target="_blank" rel="noopener">《数据库设计——评论回复功能》</a></p>
</li>
<li><p>mysql基础概念  mysql 主键 外键 索引 覆盖索引 数据库引擎 查询缓存</p>
<ol>
<li>主键：能够唯一标识表中某一行的属性或属性组。一个表只能有一个主键，但可以有多个候选索引。主键常常与外键构成参照完整性约束，防止出现数据不一致。主键可以保证记录的唯一和主键域非空,数据库管理系统对于主键自动生成唯一索引，所以主键也是一个特殊的索引。</li>
<li>外键：是用于建立和加强两个表数据之间的链接的一列或多列。外键约束主要用来维护两个表之间数据的一致性。简言之，表的外键就是另一表的主键，外键将两表联系起来。一般情况下，要删除一张表中的主键必须首先要确保其它表中的没有相同外键（即该表中的主键没有一个外键和它相关联）。</li>
<li>索引：是用来快速地寻找那些具有特定值的记录。主要是为了检索的方便，是为了加快访问速度， 按一定的规则创建的，一般起到排序作用。</li>
<li>聚簇索引：聚簇索引并不是一种单独的索引类型，而是一种数据存储方式。具体的细节依赖于其实现方式，但innoddb 的聚簇索引实际上在同一个结构中保存了B-Tree索引和数据行。</li>
<li>数据库引擎：数据库引擎是用于存储、处理和保护数据的核心服务。利用数据库引擎可控制访问权限并快速处理事务，从而满足企业内大多数需要处理大量数据的应用程序的要求。 使用数据库引擎创建用于联机事务处理或联机分析处理数据的关系数据库。这包括创建用于存储数据的表和用于查看、管理和保护数据安全的数据库对象（如索引、视图和存储过程）。</li>
<li><p>查询缓存：Query Cache是用来缓存我们所执行的SELECT语句以及该语句的结果集，MySql在实现Query Cache的具体技术细节上类似典型的KV存储，就是将SELECT语句和该查询语句的结果集做了一个HASH映射并保存在一定的内存区域中。</p>
<blockquote>
<p>参考文献：<br><a href="https://www.cnblogs.com/DannyShi/p/4617469.html" target="_blank" rel="noopener">《MySQL数据库（主键、索引、外键、触发器…》）</a><br><a href="https://www.cnblogs.com/zhengyanqiu/p/4989955.html" target="_blank" rel="noopener">《MySQL 聚簇索引》）</a><br><a href="https://www.cnblogs.com/0201zcr/p/5296843.html" target="_blank" rel="noopener">《mysql 数据库引擎》）</a></p>
</blockquote>
</li>
</ol>
</li>
<li><p>学生、课程、授课老师</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">create table student</span><br><span class="line">(</span><br><span class="line">id         int auto_increment primary key,</span><br><span class="line">student_name  varchar(100) default &apos;&apos; not null comment &apos;姓名&apos;,</span><br><span class="line">birthday   int,</span><br><span class="line">sex     tinyint,</span><br><span class="line">status     tinyint,</span><br><span class="line">created_at int,</span><br><span class="line">updated_at int </span><br><span class="line">) engine = InnoDB charset=utf8 comment &apos;学生表&apos;;</span><br><span class="line"></span><br><span class="line">create table teacher</span><br><span class="line">(</span><br><span class="line">id int auto_increment primary key,</span><br><span class="line">teacher_name varchar(100) default &apos;&apos; not null comment &apos;姓名&apos;,</span><br><span class="line">birthday   datetime,</span><br><span class="line">status     tinyint,</span><br><span class="line">created_at int,</span><br><span class="line">updated_at int </span><br><span class="line">) engine = InnoDB charset=utf8 comment &apos;教师表&apos;;</span><br><span class="line"></span><br><span class="line">create table lesson</span><br><span class="line">(</span><br><span class="line">id int auto_increment primary key,</span><br><span class="line">lesson_name varchar(100) default &apos;&apos; not null comment &apos;姓名&apos;,</span><br><span class="line">status tinyint,</span><br><span class="line">created_at int,</span><br><span class="line">updated_at int </span><br><span class="line">) engine = InnoDB charset=utf8 comment &apos;课程表&apos;;</span><br><span class="line"></span><br><span class="line">create table teacher_lesson_relation</span><br><span class="line">(</span><br><span class="line">id int auto_increment primary key,</span><br><span class="line">teacher_id int,</span><br><span class="line">lesson_id int,</span><br><span class="line">created_at int,</span><br><span class="line">updated_at int </span><br><span class="line">) engine = InnoDB charset=utf8 comment &apos;教师课程关系表&apos;;</span><br><span class="line"></span><br><span class="line">create table student_lesson_relation</span><br><span class="line">(</span><br><span class="line">id int auto_increment primary key,</span><br><span class="line">student_id int,</span><br><span class="line">lesson_id int,</span><br><span class="line">created_at int,</span><br><span class="line">updated_at int </span><br><span class="line">) engine = InnoDB charset=utf8 comment &apos;学生课程关系表&apos;;</span><br></pre></td></tr></table></figure>
<ol>
<li>查询选了某个课程的所有学生<br> <code>select s.* from student s inner join student_lesson_relation sl on s.id = sl.student_id where sl.lesson_id  = ?</code></li>
<li>查询教某个老师教的所有课程<br> <code>select l.* from lesson l inner join teacher_lesson_relation tl on l.id = tl.lesson_id where tl.teacher_id  =  ?</code></li>
<li>查询某个老师的所有学生<br> <code>select distinct s.* from student s inner join student_lesson_relation sl on s.id = sl.student_id inner join teacher_lesson_relation tl on sl.lesson_id = tl.lesson_id where tl.teacher_id = ?;</code></li>
<li>查询报了某个课程的所有年龄大于15的男学生<br> <code>select s.* from student s inner join student_lesson_relation sl on s.id = sl.student_id where sl.lesson_id  = ? and sex = 1 and YEAR(CURDATE()) - YEAR(birthday) &gt; 15</code></li>
</ol>
</li>
<li><a href="https://blog.csdn.net/Jack__Frost/article/details/73347688" target="_blank" rel="noopener">Mysql 锁的机制</a></li>
<li><a href="https://www.cnblogs.com/Aiapple/p/5792939.html" target="_blank" rel="noopener">mysql 主从复制原理</a><br> <a href="https://blog.csdn.net/gx_1_11_real/article/details/81085326" target="_blank" rel="noopener">mysql主从复制——Master-Slave搭建及注意事项</a><br> <a href="https://www.cnblogs.com/happyday56/p/3862804.html" target="_blank" rel="noopener">怎样解决MySQL数据库主从复制延迟的问题</a><br> <a href="https://blog.csdn.net/zfl589778/article/details/51441719" target="_blank" rel="noopener">MySQL主从库配置和主库宕机解决方案</a><br> <a href="https://www.cnblogs.com/cnmenglang/p/6393769.html" target="_blank" rel="noopener">深入解析Mysql 主从同步延迟原理及解决方案</a></li>
<li><a href="https://blog.csdn.net/helloxiaozhe/article/details/78116871" target="_blank" rel="noopener">mysql 2006</a></li>
<li><a href="https://www.cnblogs.com/webph/p/6679815.html" target="_blank" rel="noopener">mysql char 与 varchar</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2019/05/01/The-Twelve-Factors-App/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/01/The-Twelve-Factors-App/" itemprop="url">
                  The Twelve Factors App
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-01 20:55:48" itemprop="dateCreated datePublished" datetime="2019-05-01T20:55:48+08:00">2019-05-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-03 15:41:25" itemprop="dateModified" datetime="2020-06-03T15:41:25+08:00">2020-06-03</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/程序设计/" itemprop="url" rel="index"><span itemprop="name">程序设计</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="传送门-Twelve-Factor"><a href="#传送门-Twelve-Factor" class="headerlink" title="传送门 Twelve-Factor"></a>传送门 <a href="https://www.12factor.net/zh_cn/" target="_blank" rel="noopener">Twelve-Factor</a></h2><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>现代纪元，软件一般发布为一个服务，一般称为 web-apps 或着 saas. Twelve-Factors-App 是一种方法论  用来构建有如下特征的 SaaS:</p>
<ul>
<li>使用声明式格式实现安装自动化，以减少部署的时间与人力成本。</li>
<li>与底层操作系统有一个干净的契约，在执行环境之间提供最大的可移植性；</li>
<li>适合在现代云平台上部署，不需要服务器和系统管理；</li>
<li>最大限度地减少开发环境和生产环境之间的差异，实现持续部署以获得最大的敏捷性</li>
<li>可以在不需要对工具、架构或开发实践进行重大更改的情况下进行扩展。<br>十二因素方法可以应用于以任何编程语言编写的应用程序，这些应用程序可以使用任何后台服务（数据库、队列、内存缓存等）的组合。</li>
</ul>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>本文档的贡献者直接参与了数百个应用程序的开发和部署，并通过他们在Heroku平台上的工作间接见证了数十万个应用程序的开发、运行和扩展。</p>
<p>本文档综合了我们在各种软件即服务应用程序方面的所有经验和观察结果。它是对应用程序开发的理想实践的三角剖分，特别关注随着时间的推移应用程序的有机增长的动态、开发程序代码库的开发人员之间的协作动态，以及避免软件侵蚀的成本。</p>
<p>我们的动机是提高对我们在现代应用程序开发中看到的一些系统问题的认识，提供讨论这些问题的共享词汇表，并通过附带的术语为这些问题提供一组广泛的概念性解决方案。该格式的灵感来自Martin Fowler的《Patterns of Enterprise Application Architecture》和《Refactoring》。</p>
<h2 id="谁应该读这个文档"><a href="#谁应该读这个文档" class="headerlink" title="谁应该读这个文档"></a>谁应该读这个文档</h2><p>任何构建作为服务运行的应用程序的开发人员。部署或管理此类应用程序的运维工程师。</p>
<h2 id="1-基准代码"><a href="#1-基准代码" class="headerlink" title="1. 基准代码"></a>1. 基准代码</h2><blockquote>
<p>一份在版本控制中被跟踪的基准代码，多份部署</p>
</blockquote>
<p>一个12个因素的应用程序总是在一个版本控制系统（如Git,Mercurial,Subversion）中被跟踪。一份用来跟踪代码所有修订版本的数据库的副本被称作代码库（code repository），通常缩写为 code repo 或仅 repo.</p>
<p>基准代码是一个的 repo （集中式版本控制系统中，如 Subversion）或者 一组共享根提交的 repos (分布式版本控制系统，如 git).</p>
<p>基准代码和应用程序之间始终存在一对一的关联：</p>
<ul>
<li>如果有多个基准代码，那么它就不是一个应用程序，而是一个分布式系统。分布式系统中的每个组件都是一个应用，每个组件都可以单独满足12-Factors。</li>
<li>多个应用程序共享相同的代码是违反12-Factors原则的。这里的解决方案是将共享代码拆分成独立类库，通过依赖关系管理器(php composer, go mod, python gem, node npm)进行管理。</li>
</ul>
<p><img src="https://12factor.net/images/codebase-deploys.png" alt="codebase-deploys"></p>
<p>每个应用程序只有一个基准代码，可以有多份部署。每个部署是基准代码的一个运行实例。这通常是一个生产环境站点，以及一个或多个预演站点。此外，每个开发人员都有一个在本地开发环境中运行的应用程序副本，每个副本都是一份部署。</p>
<p>基准代码在所有部署中都是相同的，尽管每个部署中可能有使用不同的版本。例如，开发人员有一些提交尚未部署到预演版本的代码;预演环境有一些提交尚未部署到生产环境。但它们都共享相同的基准代码，因此可以识别为同一应用程序的不同部署。</p>
<blockquote>
<p>未完待续…..</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2018/12/19/Go-Tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/19/Go-Tips/" itemprop="url">
                  Go-Tips
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-19 11:51:30" itemprop="dateCreated datePublished" datetime="2018-12-19T11:51:30+08:00">2018-12-19</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-06-22 17:52:39" itemprop="dateModified" datetime="2020-06-22T17:52:39+08:00">2020-06-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/GO/" itemprop="url" rel="index"><span itemprop="name">GO</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><strong>数组长度是数组类型的一部分</strong>,eg:元素类型相同但是长度不同的两个数组不是同类型的。</li>
<li>切片slice[0:n]共享底层数组，可以使用copy方法避免共享底层数组。</li>
<li>map是一种<strong>无序</strong>的键值对，它是数据结构hash表的一种实现方式。要求作为key的类型<strong>不能是数组、切片、map</strong>，其取值<strong>必须可以使用 == 判断</strong>；<strong>线程不安全</strong>，必要时加锁或者使用sync.Map;使用make函数初始化的时候，可以设置初始容量，如过使用var定义单不赋值，其值为nil且不可直接map[key] = value 进行赋值。</li>
<li>原始类型的所有操作同样适用于自定义类型，可以使用显示的类型转换进行转换。</li>
<li>结构体可以内嵌结构体，但是<strong>如果是其本身那么只能使用指针</strong>。</li>
<li>方法的接受者只能是使用type定义的类型，方法名不能重复，方法名也不能同字段名重复。</li>
<li>defer延迟执行，<strong>倒序</strong>，<strong>可能会影响函数最终返回</strong>。</li>
<li>goroutine:在for循环中注意参数作用域，非缓冲channel程序必须同时存在接收和写入chan的goroutine.单向chan通常作为函数参数。</li>
<li>切片也是<strong>并发不安全的</strong>。可考虑加锁，可使用sync.RWMutex来提高读的并发能力。</li>
<li>file.Seek读并发不安全；file.ReadAt并发安全</li>
<li><p>追加写入文件的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">func (f *File)Seek(offset int64, whence int)(ret int64, err)</span><br><span class="line">func (f *File) WreatAt([]byte, off int64)(n int, err)</span><br><span class="line">// 或以追加的方式打开直接写入</span><br><span class="line">f, err := os.OpenFile(filename, os.O_WRONLY | os.O_APPEND, 066)</span><br></pre></td></tr></table></figure>
</li>
<li><p>空结构体，同一字面量，地址相同 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   type Conn struct &#123;&#125;</span><br><span class="line">   c := Conn&#123;&#125;</span><br><span class="line">c1 := Conn&#123;&#125;</span><br><span class="line">   // 	fmt.Println(&amp;c == &amp;c1) // 单独取消注释：output:false， 两行一起取消注释 output:true</span><br><span class="line">   //  fmt.Printf(&quot;%p == %p \n&quot;, &amp;c, &amp;c1) //output: 0x11a8c30 == 0x11a8c30</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>True liberty is to have power over oneself in all things.<br>真正的自由是在所有时候都能控制自己。<br>​</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://5412.github.io/2018/06/15/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="朴朴君">
      <meta itemprop="description" content="万邪、诸恶的克星。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="No.5412 站">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/15/hello-world/" itemprop="url">
                  Hello World
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-06-15 15:24:14" itemprop="dateCreated datePublished" datetime="2018-06-15T15:24:14+08:00">2018-06-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-15 22:23:39" itemprop="dateModified" datetime="2019-04-15T22:23:39+08:00">2019-04-15</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">朴朴君</p>
              <p class="site-description motion-element" itemprop="description">万邪、诸恶的克星。</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/5412" target="_blank" title="github"><i class="fa fa-fw fa-globe"></i>github</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://github.com/5412" target="_blank" title="weibo"><i class="fa fa-fw fa-globe"></i>weibo</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://github.com/5412" target="_blank" title="linkedin"><i class="fa fa-fw fa-globe"></i>linkedin</a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">朴朴君</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
